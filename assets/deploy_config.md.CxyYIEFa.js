import{_ as o,c as a,o as t,a2 as i}from"./chunks/framework.B9MTFJbE.js";const p=JSON.parse('{"title":"Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"deploy/config.md","filePath":"deploy/config.md","lastUpdated":1751723006000}'),r={name:"deploy/config.md"};function l(c,e,d,n,s,u){return t(),a("div",null,e[0]||(e[0]=[i('<h1 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h1><p>Configure RSSHub by setting environment variables</p><h2 id="network-configuration" tabindex="-1">Network Configuration <a class="header-anchor" href="#network-configuration" aria-label="Permalink to &quot;Network Configuration&quot;">​</a></h2><p><code>PORT</code>: listening port, default to <code>1200</code></p><p><code>SOCKET</code>: listening Unix Socket, default to <code>null</code></p><p><code>LISTEN_INADDR_ANY</code>: open up for external access, default to <code>1</code></p><p><code>REQUEST_RETRY</code>: retries allowed for failed requests, default to <code>2</code></p><p><code>REQUEST_TIMEOUT</code>: milliseconds to wait for the server to end the response before aborting the request with error, default to <code>3000</code></p><p><code>UA</code>: user agent, using random user agent (Chrome on macOS) by default</p><p><code>NO_RANDOM_UA</code>: disable random user agent, default to <code>null</code></p><h2 id="cors-request" tabindex="-1">CORS Request <a class="header-anchor" href="#cors-request" aria-label="Permalink to &quot;CORS Request&quot;">​</a></h2><p>RSSHub by default reject CORS requests. This behavior can be modified via setting <code>ALLOW_ORIGIN: *</code> or <code>ALLOW_ORIGIN: www.example.com</code>.</p><h2 id="cache-configurations" tabindex="-1">Cache Configurations <a class="header-anchor" href="#cache-configurations" aria-label="Permalink to &quot;Cache Configurations&quot;">​</a></h2><p>RSSHub supports two caching methods: memory and redis, it is recommended to use <code>redis</code> for persistent caching.</p><p><code>CACHE_TYPE</code>: cache type, <code>memory</code> or <code>redis</code>, empty this value will disable caching, default to <code>memory</code></p><p><code>CACHE_EXPIRE</code>: route cache expiry time in seconds, default to <code>5 * 60</code></p><p><code>CACHE_CONTENT_EXPIRE</code>: content cache expiry time in seconds, it will be recalculated when it is accessed, default to <code>1 * 60 * 60</code></p><p><code>REDIS_URL</code>: Redis target address (invalid when <code>CACHE_TYPE</code> is set to memory), default to <code>redis://localhost:6379/</code></p><p><code>MEMORY_MAX</code>: maximum number of cached items (invalid when <code>CACHE_TYPE</code> is set to redis), default to <code>256</code></p><h2 id="proxy-configurations" tabindex="-1">Proxy Configurations <a class="header-anchor" href="#proxy-configurations" aria-label="Permalink to &quot;Proxy Configurations&quot;">​</a></h2><p>Partial routes have a strict anti-crawler policy, and can be configured to use proxy.</p><p><code>PROXY_URI</code>: The proxy URI should be in the format <code>{protocol}://{host}:{port}</code>. The protocol only supports http and https. For discussions on socks5 support, refer to <a href="https://github.com/nodejs/undici/issues/2224" target="_blank" rel="noreferrer">nodejs/undici#2224</a>.</p><p><code>PROXY_AUTH</code>: Authentication credentials for the proxy server, will add header <code>Proxy-Authorization: Basic ${PROXY_AUTH}</code></p><p><code>PROXY_URL_REGEX</code>: Regular expression of URL to enable proxy, all enabled by default <code>.*</code></p><h2 id="access-control-configurations" tabindex="-1">Access Control Configurations <a class="header-anchor" href="#access-control-configurations" aria-label="Permalink to &quot;Access Control Configurations&quot;">​</a></h2><p>RSSHub supports access control using access keys/codes. Enabling it will activate global access control, and lack of access permission will result in denied access.</p><p><strong>Allowlisting/denylisting</strong></p><p>This configuration has been removed. It is recommended to use a proxy server such as Nginx or Cloudflare for access control.</p><p><strong>Access Key/Code</strong></p><ul><li><code>ACCESS_KEY</code>: the access key. When set, access via the key directly or the access code described above</li></ul><p>Access code is the md5 generated based on the access key + route, eg:</p><table tabindex="0"><thead><tr><th>Access key</th><th>Route</th><th>Generating access code</th><th>Access code</th></tr></thead><tbody><tr><td>ILoveRSSHub</td><td>/qdaily/column/59</td><td>md5(&#39;/qdaily/column/59&#39; + &#39;ILoveRSSHub&#39;)</td><td>0f820530128805ffc10351f22b5fd121</td></tr></tbody></table><ul><li><p>Routes are accessible via <code>code</code>, eg: <code>https://rsshub.app/qdaily/column/59?code=0f820530128805ffc10351f22b5fd121</code></p></li><li><p>Or using <code>key</code> directly, eg: <code>https://rsshub.app/qdaily/column/59?key=ILoveRSSHub</code></p></li></ul><p><strong>Healthcheck Configuration</strong></p><p>When <code>ACCESS_KEY</code> is enabled, the <code>healthcheck</code> endpoint also requires authentication.</p><p>For a Docker Compose deployment, you&#39;ll need to update the <code>healthcheck</code> configuration in your <code>docker-compose.yml</code> to include the access key or access code parameter.</p><p>The recommended configuration is:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">healthcheck:</span></span>\n<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:1200/healthz&quot;]</span></span>\n<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:1200/healthz?key=${ACCESS_KEY}&quot;]</span></span></code></pre></div><h2 id="logging-configurations" tabindex="-1">Logging Configurations <a class="header-anchor" href="#logging-configurations" aria-label="Permalink to &quot;Logging Configurations&quot;">​</a></h2><p><code>DEBUG_INFO</code>: display route information on the homepage for debugging purposes. When set to neither <code>true</code> nor <code>false</code>, use parameter <code>debug</code> to enable display, eg: <code>https://rsshub.app/?debug=value_of_DEBUG_INFO</code> . Default to <code>true</code></p><p><code>LOGGER_LEVEL</code>: specifies the maximum <a href="https://github.com/winstonjs/winston#logging-levels" target="_blank" rel="noreferrer">level</a> of messages to the console and log file, default to <code>info</code></p><p><code>NO_LOGFILES</code>: disable logging to log files, default to <code>false</code></p><p><code>SHOW_LOGGER_TIMESTAMP</code>: Show timestamp in log, default to <code>false</code></p><p><code>SENTRY</code>: <a href="https://sentry.io" target="_blank" rel="noreferrer">Sentry</a> dsn, used for error tracking</p><p><code>SENTRY_ROUTE_TIMEOUT</code>: Report Sentry if route execution takes more than this milliseconds, default to <code>3000</code></p><h2 id="image-processing" tabindex="-1">Image Processing <a class="header-anchor" href="#image-processing" aria-label="Permalink to &quot;Image Processing&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">New Config Format</p><p>We are currently testing out a new format, providing end-user with more flexibility. For more info, please refer to <a href="/guide/parameters#multimedia-processing">Parameters-&gt;Multimedia processing</a>.</p><p>When using our new config, please leave the following environment vairable blank. By default, image hotlink template will be forced when present.</p></div><p><code>HOTLINK_TEMPLATE</code>: replace image URL in the description to avoid anti-hotlink protection, leave it blank to disable this function. Usage reference <a href="https://github.com/DIYgod/RSSHub/issues/2769" target="_blank" rel="noreferrer">#2769</a>. You may use any property listed in <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL#Properties" target="_blank" rel="noreferrer">URL</a> (suffixing with <code>_ue</code> results in URL encoding), format of JS template literal. e.g. <code>${protocol}//${host}${pathname}</code>, <code>https://i3.wp.com/${host}${pathname}</code>, <code>https://images.weserv.nl?url=${href_ue}</code></p><p><code>HOTLINK_INCLUDE_PATHS</code>: limit the routes to be processed, only matched routes will be processed. Set multiple values with comma <code>,</code> as delimiter. If not set, all routes will be processed</p><p><code>HOTLINK_EXCLUDE_PATHS</code>: exclude routes that do not need to be processed, all matched routes will be ignored. Set multiple values with comma <code>,</code> as delimiter. Can be used alone, or to exclude routes that are already included by <code>HOTLINK_INCLUDE_PATHS</code>. If not set, no routes will be ignored</p><div class="tip custom-block"><p class="custom-block-title">Route matching pattern</p><p><code>HOTLINK_INCLUDE_PATHS</code> and <code>HOTLINK_EXCLUDE_PATHS</code> match the root path and all recursive sub-paths of the route, but not substrings. Note that the path must start with <code>/</code> and end without <code>/</code>.</p><p>e.g. <code>/example</code>, <code>/example/sub</code> and <code>/example/anthoer/sub/route</code> will be matched by <code>/example</code>, but <code>/example_route</code> will not be matched.</p><p>It is also valid to contain route parameters, e.g. <code>/weibo/user/2612249974</code>.</p></div><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">Experimental features</p><p>Configs in this sections are in beta stage, and <strong>are turn off by default</strong>. Please read corresponded description and turn on if necessary.</p></div><p><code>ALLOW_USER_HOTLINK_TEMPLATE</code>: <a href="/guide/parameters#multimedia-processing">Parameters-&gt;Multimedia processing</a></p><p><code>FILTER_REGEX_ENGINE</code>: Define Regex engine used in <a href="/guide/parameters#filtering">Parameters-&gt;filtering</a>. Valid value are <code>[re2, regexp]</code>. Default value is <code>re2</code>. We suggest public instance should leave this value to default, and this option right now is mainly for backward compatibility.</p><p><code>ALLOW_USER_SUPPLY_UNSAFE_DOMAIN</code>: allow users to provide a domain as a parameter to routes that are not in their allow list, respectively. Public instances are suggested to leave this value default, as it may lead to <a href="https://owasp.org/www-community/attacks/Server_Side_Request_Forgery" target="_blank" rel="noreferrer">Server-Side Request Forgery (SSRF)</a></p><h2 id="other-application-configurations" tabindex="-1">Other Application Configurations <a class="header-anchor" href="#other-application-configurations" aria-label="Permalink to &quot;Other Application Configurations&quot;">​</a></h2><p><code>DISALLOW_ROBOT</code>: prevent indexing by search engine, default to enable, set false or 0 to disable</p><p><code>ENABLE_CLUSTER</code>: enable cluster mode, default to <code>false</code></p><p><code>NODE_ENV</code>: display error message on pages for authentication failing, default to <code>production</code> (i.e. no display)</p><p><code>NODE_NAME</code>: node name, used for load balancing, identify the current node</p><p><code>PUPPETEER_WS_ENDPOINT</code>: browser WebSocket endpoint which can be used as an argument to puppeteer.connect, refer to <a href="https://pptr.dev/api/puppeteer.browser.wsendpoint" target="_blank" rel="noreferrer">browserWSEndpoint</a></p><p><code>CHROMIUM_EXECUTABLE_PATH</code>: path to the Chromium (or Chrome) executable. If puppeteer is not bundled with Chromium (manually skipped downloading or system architecture is arm/arm64), configuring this can effectively enable puppeteer. Or alternatively, if you prefer Chrome to Chromium, this configuration will help. <strong>WARNING</strong>: only effective when <code>PUPPETEER_WS_ENDPOINT</code> is not set; only useful for manual deployment, for Docker, please use the <code>chromium-bundled</code> image instead.</p><p><code>TITLE_LENGTH_LIMIT</code>: limit the length of feed title generated in bytes, an English alphabet counts as 1 byte, the rest such as Chinese, Japanese, Korean or Arabic counts as 2 bytes by design, default to <code>150</code></p><p><code>OPENAI_API_KEY</code>: OpenAI API Key, used for using ChatGPT to summarize articles</p><p><code>OPENAI_MODEL</code>: OpenAI model name, used for using ChatGPT to summarize articles, default to <code>gpt-3.5-turbo-16k</code>, see <a href="https://platform.openai.com/docs/models/overview" target="_blank" rel="noreferrer">OpenAI API reference</a> for details</p><p><code>OPENAI_TEMPERATURE</code>: OpenAI temperature parameter, used for using ChatGPT to summarize articles, default to <code>0.2</code>, see <a href="https://platform.openai.com/docs/api-reference/chat/create#chat-create-temperature" target="_blank" rel="noreferrer">OpenAI API reference</a> for details</p><p><code>OPENAI_MAX_TOKENS</code>: OpenAI maximum token number, used for using ChatGPT to summarize articles, default to <code>null</code>, see <a href="https://platform.openai.com/docs/api-reference/chat/create#chat-create-max_tokens" target="_blank" rel="noreferrer">OpenAI API reference</a> for details</p><p><code>OPENAI_API_ENDPOINT</code>: OpenAI API URL, used for using ChatGPT to summarize articles, default to <code>https://api.openai.com/v1</code>, see <a href="https://platform.openai.com/docs/api-reference/chat" target="_blank" rel="noreferrer">OpenAI API reference</a> for details</p><p><code>OPENAI_PROMPT</code>: OpenAI prompt, used for using ChatGPT to summarize articles, see <a href="https://platform.openai.com/docs/api-reference/chat" target="_blank" rel="noreferrer">OpenAI API reference</a> for details</p><p><code>REMOTE_CONFIG</code>: Remote configuration URL, used for dynamically updating configurations. The address should return a JSON with an environment variable name as the key. It will be loaded and merged with local configurations when the application starts. In case of conflicts with local configurations, remote configurations will take precedence. But please note that some basic configuration items do not support remote retrieval.</p><h2 id="route-specific-configurations" tabindex="-1">Route-specific Configurations <a class="header-anchor" href="#route-specific-configurations" aria-label="Permalink to &quot;Route-specific Configurations {#route-specific-configurations}&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Configs here are incomplete.</p><p>See docs of the specified route and <code>lib/config.ts</code> for detailed information.</p></div><h3 id="_4399-论坛" tabindex="-1">4399 论坛 <a class="header-anchor" href="#_4399-论坛" aria-label="Permalink to &quot;4399 论坛&quot;">​</a></h3><ul><li><code>GAME_4399</code>: 对应登录后的 cookie 值，获取方式： <ol><li>在 4399 首页登录。</li><li>打开开发者工具，切换到 Network 面板，刷新</li><li>查找<code>www.4399.com</code>的访问请求，点击请求，在右侧 Headers 中找到 Cookie.</li></ol></li></ul><h3 id="bilibili" tabindex="-1">bilibili <a class="header-anchor" href="#bilibili" aria-label="Permalink to &quot;bilibili&quot;">​</a></h3><ul><li><code>BILIBILI_COOKIE_{uid}</code>: 用于用户关注动态系列路由，对应 uid 的 b 站用户登录后的 Cookie 值，<code>{uid}</code> 替换为 uid，如 <code>BILIBILI_COOKIE_2267573</code>，获取方式： <ol><li>打开 <a href="https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;type=8" target="_blank" rel="noreferrer">https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;type=8</a></li><li>打开控制台，切换到 Network 面板，刷新</li><li>点击 dynamic_new 请求，找到 Cookie</li><li>视频和专栏，UP 主粉丝及关注只要求 <code>SESSDATA</code> 字段，动态需复制整段 Cookie</li></ol></li><li><code>BILIBILI_DM_IMG_LIST</code>: 用于获取UP主投稿系列的路由，获取方式： <ol><li>打开 <a href="https://space.bilibili.com/1" target="_blank" rel="noreferrer">任意UP主个人空间页</a></li><li>打开控制台，切换到 Network 面板，关闭缓存，刷新，鼠标在窗口内不断移动</li><li>使用过滤器找到符合 <code>https://api.bilibili.com/x/space/wbi/arc/search</code> 的请求</li><li>复制请求参数中 <code>dm_img_list</code> 字段的内容，如 <code>[{&quot;x&quot;:2721,&quot;y&quot;:615,&quot;z&quot;:0,&quot;timestamp&quot;:29,&quot;type&quot;:0}]</code></li></ol></li></ul><h3 id="bitbucket" tabindex="-1">Bitbucket <a class="header-anchor" href="#bitbucket" aria-label="Permalink to &quot;Bitbucket&quot;">​</a></h3><p><a href="https://developer.atlassian.com/cloud/bitbucket/rest/intro/#basic-auth" target="_blank" rel="noreferrer">Basic auth with App passwords</a></p><ul><li><code>BITBUCKET_USERNAME</code>: Your Bitbucket username</li><li><code>BITBUCKET_PASSWORD</code>: Your Bitbucket app password</li></ul><h3 id="btbyr" tabindex="-1">BTBYR <a class="header-anchor" href="#btbyr" aria-label="Permalink to &quot;BTBYR&quot;">​</a></h3><ul><li><code>BTBYR_HOST</code>: 支持 ipv4 访问的 BTBYR 镜像，默认为原站 <code>https://bt.byr.cn/</code>。</li><li><code>BTBYR_COOKIE</code>: 注册用户登录后的 Cookie 值，获取方式： <ol><li>登录后打开网站首页</li><li>打开控制台，刷新</li><li>找到 <code>https://bt.byr.cn/index.php</code> 请求</li><li>找到请求头中的 Cookie</li></ol></li></ul><h3 id="bupt" tabindex="-1">BUPT <a class="header-anchor" href="#bupt" aria-label="Permalink to &quot;BUPT&quot;">​</a></h3><ul><li><code>BUPT_PORTAL_COOKIE</code>: 登录后获得的 Cookie 值，获取方式 <ol><li>打开 <a href="https://webapp.bupt.edu.cn/wap/login.html?redirect=https://" target="_blank" rel="noreferrer">https://webapp.bupt.edu.cn/wap/login.html?redirect=https://</a> 并登录</li><li>无视掉报错，并打开 <a href="https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw" target="_blank" rel="noreferrer">https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw</a></li><li>打开控制台，刷新</li><li>找到 <code>https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw</code> 请求</li><li>找到请求头中的 Cookie</li></ol></li></ul><h3 id="civitai" tabindex="-1">Civitai <a class="header-anchor" href="#civitai" aria-label="Permalink to &quot;Civitai&quot;">​</a></h3><ul><li><code>CIVITAI_COOKIE</code>: Cookie of Civitai</li></ul><h3 id="dianping" tabindex="-1">Dianping <a class="header-anchor" href="#dianping" aria-label="Permalink to &quot;Dianping&quot;">​</a></h3><ul><li><code>DIANPING_COOKIE</code>: 大众点评登录后的 Cookie 值，获取方式：访问 <code>https://m.dianping.com</code>，登录，输入 <code>document.cookie</code> 获取</li></ul><h3 id="discord" tabindex="-1">Discord <a class="header-anchor" href="#discord" aria-label="Permalink to &quot;Discord&quot;">​</a></h3><ul><li><code>DISCORD_AUTHORIZATION</code>: Discord authorization token, can be found in the header of XHR requests after logging in Discord web client</li></ul><h3 id="discourse" tabindex="-1">Discourse <a class="header-anchor" href="#discourse" aria-label="Permalink to &quot;Discourse&quot;">​</a></h3><ul><li><code>DISCOURSE_CONFIG_{id}</code>: <code>id</code> could be arbitrary number or string, while the value should be the format of <code>{&quot;link&quot;:link,&quot;key&quot;:key}</code>, where:</li><li><code>link</code> is the link to the forum.</li><li><code>key</code> is the access key for the forum API, which you can refer to <a href="https://pastebin.com/YbLCgdWW" target="_blank" rel="noreferrer">this snippet</a> to obtain one. Ensure that this key is granted sufficient permission.</li></ul><h3 id="discuz-cookie" tabindex="-1">Discuz cookie <a class="header-anchor" href="#discuz-cookie" aria-label="Permalink to &quot;Discuz cookie&quot;">​</a></h3><ul><li><code>DISCUZ_COOKIE_{cid}</code>: Cookie of a forum powered by Discuz, cid can be anything from 00 to 99. When visiting a Discuz route, use cid to specify this cookie.</li></ul><h3 id="disqus" tabindex="-1">Disqus <a class="header-anchor" href="#disqus" aria-label="Permalink to &quot;Disqus&quot;">​</a></h3><p><a href="https://disqus.com/api/applications/" target="_blank" rel="noreferrer">API Key application</a></p><ul><li><code>DISQUS_API_KEY</code>: Disqus API</li></ul><h3 id="douban" tabindex="-1">douban <a class="header-anchor" href="#douban" aria-label="Permalink to &quot;douban&quot;">​</a></h3><ul><li><code>DOUBAN_COOKIE</code>: Cookie of douban user</li></ul><h3 id="e-hentai" tabindex="-1">E-Hentai <a class="header-anchor" href="#e-hentai" aria-label="Permalink to &quot;E-Hentai&quot;">​</a></h3><ul><li><code>EH_IPB_MEMBER_ID</code>: The value of <code>ipb_member_id</code> in the cookie header after logging in E-Hentai</li><li><code>EH_IPB_PASS_HASH</code>: The value of <code>ipb_pass_hash</code> in the cookie header after logging in E-Hentai</li><li><code>EH_SK</code>: The value of <code>sk</code> in the cookie header after logging in E-Hentai</li><li><code>EH_STAR</code>: The value of <code>star</code> in the cookie header if your account has stars. If this value is set, image limit allocation will links to the account rather than IP address</li><li><code>EH_IGNEOUS</code>: The value of <code>igneous</code> in the cookie header after logging in ExHentai. If this value is set, RSS will be generated from ExHentai</li><li><code>EH_IMG_PROXY</code>: Cover proxy address. If this is set, the link to the cover image will be replaced with this value at the beginning. When using ExHentai, the cover image requires cookies to access it, so you can use this with a cookie-added proxy server to access the cover image without cookies in some readers.</li></ul><h3 id="fantia" tabindex="-1">Fantia <a class="header-anchor" href="#fantia" aria-label="Permalink to &quot;Fantia&quot;">​</a></h3><ul><li><code>FANTIA_COOKIE</code>: The <code>cookie</code> after login can be obtained by viewing the request header in the console, If not filled in will cause some posts that require login to read to get exceptions</li></ul><h3 id="gitee" tabindex="-1">Gitee <a class="header-anchor" href="#gitee" aria-label="Permalink to &quot;Gitee&quot;">​</a></h3><p><a href="https://gitee.com/api/v5/swagger" target="_blank" rel="noreferrer">申请地址</a></p><ul><li><code>GITEE_ACCESS_TOKEN</code>: Gitee 私人令牌</li></ul><h3 id="github" tabindex="-1">GitHub <a class="header-anchor" href="#github" aria-label="Permalink to &quot;GitHub&quot;">​</a></h3><p><a href="https://github.com/settings/tokens" target="_blank" rel="noreferrer">Access Token application</a></p><ul><li><code>GITHUB_ACCESS_TOKEN</code>: GitHub Access Token</li></ul><h3 id="google-fonts" tabindex="-1">Google Fonts <a class="header-anchor" href="#google-fonts" aria-label="Permalink to &quot;Google Fonts&quot;">​</a></h3><p><a href="https://developers.google.com/fonts/docs/developer_api#a_quick_example" target="_blank" rel="noreferrer">API key application</a></p><ul><li><code>GOOGLE_FONTS_API_KEY</code>: API key</li></ul><h3 id="instagram" tabindex="-1">Instagram <a class="header-anchor" href="#instagram" aria-label="Permalink to &quot;Instagram&quot;">​</a></h3><ul><li><code>IG_USERNAME</code>: Your Instagram username (Private API only)</li><li><code>IG_PASSWORD</code>: Your Instagram password (Private API only)</li><li><code>IG_PROXY</code>: Proxy URL for Instagram (Private API only, optional)</li><li><code>IG_COOKIE</code>: Your Instagram cookie (Cookie only)</li></ul><p>Warning: Two Factor Authentication is <strong>not</strong> supported.</p><h3 id="iwara" tabindex="-1">Iwara <a class="header-anchor" href="#iwara" aria-label="Permalink to &quot;Iwara&quot;">​</a></h3><ul><li><code>IWARA_USERNAME</code>: username of Iwara User</li><li><code>IWARA_PASSWORD</code>: password of Iwara User</li></ul><h3 id="last-fm" tabindex="-1">Last.fm <a class="header-anchor" href="#last-fm" aria-label="Permalink to &quot;Last.fm&quot;">​</a></h3><ul><li><code>LASTFM_API_KEY</code>: Last.fm API Key</li></ul><h3 id="lightnovel-us" tabindex="-1">LightNovel.us <a class="header-anchor" href="#lightnovel-us" aria-label="Permalink to &quot;LightNovel.us&quot;">​</a></h3><ul><li><code>SECURITY_KEY</code>: security_key in the token，please remove %22，example <code>{%22security_key%22:%223cXXXX%22}</code>,only need 3cXXXX</li></ul><h3 id="email" tabindex="-1">Email <a class="header-anchor" href="#email" aria-label="Permalink to &quot;Email&quot;">​</a></h3><ul><li><p><code>EMAIL_CONFIG_{email}</code>: Mail setting, replace <code>{email}</code> with the email account, replace <code>@</code> and <code>.</code> in email account with <code>_</code>, e.g. <code>EMAIL_CONFIG_xxx_gmail_com</code>. The value is in the format of <code>password=password&amp;host=server&amp;port=port</code>, eg:</p></li><li><p>Linux env: <code>EMAIL_CONFIG_xxx_qq_com=&quot;password=123456&amp;host=imap.qq.com&amp;port=993&quot;</code></p></li><li><p>docker env: <code>EMAIL_CONFIG_xxx_qq_com=password=123456&amp;host=imap.qq.com&amp;port=993</code>, please do not include quotations <code>&#39;</code>,<code>&quot;</code></p></li><li><p>Note: socks5h proxy is not supported due to the limit of email lib <code>ImapFlow</code></p></li></ul><h3 id="mastodon" tabindex="-1">Mastodon <a class="header-anchor" href="#mastodon" aria-label="Permalink to &quot;Mastodon&quot;">​</a></h3><p>For user timeline</p><p>Apply API at <code>https://mastodon.example/settings/applications</code> (replace <code>mastodon.example</code>). Scopes <code>read:search</code> and <code>read:statuses</code> are needed.</p><ul><li><code>MASTODON_API_HOST</code>: API instance domain, only domain, no <code>http://</code> or <code>https://</code> protocol header</li><li><code>MASTODON_API_ACCESS_TOKEN</code>: user access token</li><li><code>MASTODON_API_ACCT_DOMAIN</code>: acct domain for this instance, i.e. the <code>domain</code> in the WebFinger URI <code>username@domain</code>. It&#39;s usually the same as <code>MASTODON_API_HOST</code>.</li></ul><h3 id="medium" tabindex="-1">Medium <a class="header-anchor" href="#medium" aria-label="Permalink to &quot;Medium&quot;">​</a></h3><p>Open the console, copy the cookie (in theory, only uid and sid are required)</p><ul><li><code>MEDIUM_ARTICLE_COOKIE</code>: Cookie used when requesting the full article, can access the full text of paid content when there is an active Member subscription.</li><li><code>MEDIUM_COOKIE_{username}</code>: Cookie of the user corresponding to the username, required for personalized recommendation related routes.</li></ul><h3 id="miniflux" tabindex="-1">MiniFlux <a class="header-anchor" href="#miniflux" aria-label="Permalink to &quot;MiniFlux&quot;">​</a></h3><ul><li><code>MINIFLUX_INSTANCE</code>: The instance used by the user, by default, is the official MiniFlux <a href="https://reader.miniflux.app" target="_blank" rel="noreferrer">paid service address</a></li><li><code>MINIFLUX_TOKEN</code>: User&#39;s API key, please log in to the instance used and go to <code>Settings</code> -&gt; <code>API Key</code> -&gt; <code>Create a new API key</code> to obtain.</li></ul><h3 id="netease-cloud-music-playlists" tabindex="-1">Netease Cloud Music Playlists <a class="header-anchor" href="#netease-cloud-music-playlists" aria-label="Permalink to &quot;Netease Cloud Music Playlists&quot;">​</a></h3><p>For playlists and song rankings</p><ul><li><code>NCM_COOKIES</code>: Cookies after logging into Netease Cloud Music, available via <code>document.cookie</code> in the browser console.</li></ul><h3 id="nhentai-torrent" tabindex="-1">nhentai torrent <a class="header-anchor" href="#nhentai-torrent" aria-label="Permalink to &quot;nhentai torrent&quot;">​</a></h3><p><a href="https://nhentai.net/register/" target="_blank" rel="noreferrer">Registration</a></p><ul><li><code>NHENTAI_USERNAME</code>: nhentai username or email</li><li><code>NHENTAI_PASSWORD</code>: nhentai password</li></ul><h3 id="notion" tabindex="-1">Notion <a class="header-anchor" href="#notion" aria-label="Permalink to &quot;Notion&quot;">​</a></h3><ul><li><code>NOTION_TOKEN</code>: Notion Internal Integration Token, Refer to <a href="https://developers.notion.com/docs/authorization#internal-integration-auth-flow-set-up" target="_blank" rel="noreferrer">Notion Official Set Up Flow</a> to create Token</li></ul><h3 id="pianyuan" tabindex="-1">pianyuan <a class="header-anchor" href="#pianyuan" aria-label="Permalink to &quot;pianyuan&quot;">​</a></h3><p><a href="https://pianyuan.org" target="_blank" rel="noreferrer">注册地址</a></p><ul><li><code>PIANYUAN_COOKIE</code>: 对应 cookie 中的 <code>py_loginauth</code>, 例：PIANYUAN_COOKIE=&#39;py_loginauth=xxxxxxxxxx&#39;</li></ul><h3 id="pixabay" tabindex="-1">Pixabay <a class="header-anchor" href="#pixabay" aria-label="Permalink to &quot;Pixabay&quot;">​</a></h3><p><a href="https://pixabay.com/api/docs/" target="_blank" rel="noreferrer">Documentation</a></p><ul><li><code>PIXABAY_KEY</code>: Pixabay API key</li></ul><h3 id="pixiv" tabindex="-1">pixiv <a class="header-anchor" href="#pixiv" aria-label="Permalink to &quot;pixiv&quot;">​</a></h3><p><a href="https://accounts.pixiv.net/signup" target="_blank" rel="noreferrer">Registration</a></p><ul><li><code>PIXIV_REFRESHTOKEN</code>: Please refer to <a href="https://gist.github.com/ZipFile/c9ebedb224406f4f11845ab700124362" target="_blank" rel="noreferrer">this article</a> to get a <code>refresh_token</code></li><li><code>PIXIV_BYPASS_CDN</code>: bypass Cloudflare bot check by directly accessing Pixiv source server, defaults to disable, set <code>true</code> or <code>1</code> to enable</li><li><code>PIXIV_BYPASS_HOSTNAME</code>: Pixiv source server hostname or IP address, hostname will be resolved to IPv4 address via <code>PIXIV_BYPASS_DOH</code>, defaults to <code>public-api.secure.pixiv.net</code></li><li><code>PIXIV_BYPASS_DOH</code>: DNS over HTTPS endpoint, it must be compatible with Cloudflare or Google DoH JSON schema, defaults to <code>https://1.1.1.1/dns-query</code></li><li><code>PIXIV_IMG_PROXY</code>: Used as a proxy for image addresses, as pixiv images have anti-theft, default to <code>https://i.pixiv.re</code></li></ul><h3 id="pixiv-fanbox" tabindex="-1">pixiv fanbox <a class="header-anchor" href="#pixiv-fanbox" aria-label="Permalink to &quot;pixiv fanbox&quot;">​</a></h3><p>Get paid content</p><ul><li><code>FANBOX_SESSION_ID</code>: equals to <code>FANBOXSESSID</code> in site cookies.</li></ul><h3 id="saraba1st" tabindex="-1">Saraba1st <a class="header-anchor" href="#saraba1st" aria-label="Permalink to &quot;Saraba1st&quot;">​</a></h3><p>用于获取帖子里的图片</p><ul><li><code>SARABA1ST_COOKIE</code>: 对应网页端的 Cookie。</li></ul><h3 id="sci-hub" tabindex="-1">Sci-hub <a class="header-anchor" href="#sci-hub" aria-label="Permalink to &quot;Sci-hub&quot;">​</a></h3><p>For scientific journal routes</p><ul><li><code>SCIHUB_HOST</code>: The Sci-hub mirror address that is accessible from your location, default to <code>https://sci-hub.se</code>.</li></ul><h3 id="spotify" tabindex="-1">Spotify <a class="header-anchor" href="#spotify" aria-label="Permalink to &quot;Spotify&quot;">​</a></h3><p><a href="https://developer.spotify.com" target="_blank" rel="noreferrer">API key registration</a></p><ul><li><code>SPOTIFY_CLIENT_ID</code>: Client ID of the application</li><li><code>SPOTIFY_CLIENT_SECRET</code>: Client secret of the application</li></ul><p>For user data related routes</p><ul><li><code>SPOTIFY_REFRESHTOKEN</code>: The refresh token of the user from the Spotify application. You can obtain it through <a href="https://alecchen.dev/spotify-refresh-token/" target="_blank" rel="noreferrer">spotify-refresh-token</a> by <a href="https://github.com/alecchendev/spotify-refresh-token" target="_blank" rel="noreferrer">alecchendev</a>.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Remember to check <code>user-top-read</code> and <code>user-library-read</code> in the scope for <code>Personal Top Items</code> and <code>Personal Saved Tracks</code> respectively.</p></div><h3 id="telegram" tabindex="-1">Telegram <a class="header-anchor" href="#telegram" aria-label="Permalink to &quot;Telegram&quot;">​</a></h3><p><a href="https://telegram.org/blog/bot-revolution" target="_blank" rel="noreferrer">Bot application</a></p><ul><li><code>TELEGRAM_TOKEN</code>: Telegram bot token for stickerpack feeds</li><li><code>TELEGRAM_SESSION</code>: for video, file streaming and some restricted channels, should create your telegram app via <code>https://my.telegram.org/apps</code>, get <code>api_id</code> and <code>api_hash</code> from there, then run <code>node ./lib/routes/telegram/scripts/get-telegram-session.mjs</code> in RSSHub root directory to get <code>TELEGRAM_SESSION</code></li></ul><h3 id="twitter" tabindex="-1">Twitter <a class="header-anchor" href="#twitter" aria-label="Permalink to &quot;Twitter&quot;">​</a></h3><p>It is recommended to use a non-important account, new accounts or logins from different regions may be restricted.</p><ul><li><code>TWITTER_USERNAME</code>: Twitter username</li><li><code>TWITTER_PASSWORD</code>: Twitter password</li><li><code>TWITTER_PHONE_OR_EMAIL</code>: Optional, Twitter phone or email</li><li><code>TWITTER_AUTHENTICATION_SECRET</code>: Optional, Twitter Two-factor authentication -&gt; Authentication app -&gt; Secret part in <code>otpauth://totp/Twitter:@_RSSHub?secret=xxxxxxxxxxxxxxxx&amp;issuer=Twitter</code></li></ul><h3 id="wordpress" tabindex="-1">Wordpress <a class="header-anchor" href="#wordpress" aria-label="Permalink to &quot;Wordpress&quot;">​</a></h3><ul><li><p><code>WORDPRESS_CDN</code>: Proxy HTTP image link with HTTPS link. Consider using:</p><table tabindex="0"><thead><tr><th>url</th><th>backbone</th></tr></thead><tbody><tr><td><a href="https://imageproxy.pimg.tw/resize?url=" target="_blank" rel="noreferrer">https://imageproxy.pimg.tw/resize?url=</a></td><td>akamai</td></tr><tr><td><a href="https://images.weserv.nl/?url=" target="_blank" rel="noreferrer">https://images.weserv.nl/?url=</a></td><td>cloudflare</td></tr><tr><td><a href="https://pic1.xuehuaimg.com/proxy" target="_blank" rel="noreferrer">https://pic1.xuehuaimg.com/proxy</a></td><td>cloudflare</td></tr><tr><td><a href="https://cors.netnr.workers.dev" target="_blank" rel="noreferrer">https://cors.netnr.workers.dev</a></td><td>cloudflare</td></tr><tr><td><a href="https://netnr-proxy.openode.io" target="_blank" rel="noreferrer">https://netnr-proxy.openode.io</a></td><td>digitalocean</td></tr></tbody></table></li></ul><h3 id="youtube" tabindex="-1">YouTube <a class="header-anchor" href="#youtube" aria-label="Permalink to &quot;YouTube&quot;">​</a></h3><p><a href="https://console.developers.google.com/" target="_blank" rel="noreferrer">API Key application</a></p><ul><li>All routes:</li><li><code>YOUTUBE_KEY</code>: YouTube API Key, support multiple keys, split them with <code>,</code></li><li>Extra requirements for subscriptions route:</li><li><code>YOUTUBE_CLIENT_ID</code>: YouTube API OAuth 2.0 client ID</li><li><code>YOUTUBE_CLIENT_SECRET</code>: YouTube API OAuth 2.0 client secret</li><li><code>YOUTUBE_REFRESH_TOKEN</code>: YouTube API OAuth 2.0 refresh token. Check <a href="https://gist.github.com/Kurukshetran/5904e8cb2361623498481f4a9a1338aa" target="_blank" rel="noreferrer">this gist</a> for detailed instructions.</li></ul><h3 id="zodgame" tabindex="-1">ZodGame <a class="header-anchor" href="#zodgame" aria-label="Permalink to &quot;ZodGame&quot;">​</a></h3><ul><li><code>ZODGAME_COOKIE</code>: Cookie of ZodGame User</li></ul><h3 id="北京大学" tabindex="-1">北京大学 <a class="header-anchor" href="#北京大学" aria-label="Permalink to &quot;北京大学&quot;">​</a></h3><p>用于北大未名 BBS 全站十大</p><ul><li><code>PKUBBS_COOKIE</code>: BBS 注册用户登录后的 Cookie 值，获取方式： <ol><li>登录后打开论坛首页</li><li>打开控制台， 刷新</li><li>找到 <code>https://bbs.pku.edu.cn/v2/home.php</code> 请求</li><li>找到请求头中的 Cookie</li></ol></li></ul><h3 id="滴答清单" tabindex="-1">滴答清单 <a class="header-anchor" href="#滴答清单" aria-label="Permalink to &quot;滴答清单&quot;">​</a></h3><ul><li><code>DIDA365_USERNAME</code>: 滴答清单用户名</li><li><code>DIDA365_PASSWORD</code>: 滴答清单密码</li></ul><h3 id="豆瓣" tabindex="-1">豆瓣 <a class="header-anchor" href="#豆瓣" aria-label="Permalink to &quot;豆瓣&quot;">​</a></h3><p>用于想看</p><ul><li><code>DOUBAN_COOKIE</code>: 豆瓣登陆后的 Cookie 值</li></ul><h3 id="饭否" tabindex="-1">饭否 <a class="header-anchor" href="#饭否" aria-label="Permalink to &quot;饭否&quot;">​</a></h3><p><a href="https://github.com/FanfouAPI/FanFouAPIDoc/wiki/Oauth" target="_blank" rel="noreferrer">申请地址</a></p><ul><li><code>FANFOU_CONSUMER_KEY</code>: 饭否 Consumer Key</li><li><code>FANFOU_CONSUMER_SECRET</code>: 饭否 Consumer Secret</li><li><code>FANFOU_USERNAME</code>: 饭否登录用户名、邮箱、手机号</li><li><code>FANFOU_PASSWORD</code>: 饭否密码</li></ul><h3 id="和风天气" tabindex="-1">和风天气 <a class="header-anchor" href="#和风天气" aria-label="Permalink to &quot;和风天气&quot;">​</a></h3><p><a href="https://id.qweather.com/#/register?redirect=https%3A%2F%2Fconsole.qweather.com" target="_blank" rel="noreferrer">申请地址</a></p><ul><li><code>HEFENG_KEY</code>:API key</li></ul><h3 id="米游社" tabindex="-1">米游社 <a class="header-anchor" href="#米游社" aria-label="Permalink to &quot;米游社&quot;">​</a></h3><ul><li><code>MIHOYO_COOKIE</code>：登录米游社后的 cookie，用于获取用户关注动态时间线。</li></ul><h3 id="南方周末" tabindex="-1">南方周末 <a class="header-anchor" href="#南方周末" aria-label="Permalink to &quot;南方周末&quot;">​</a></h3><p>用于付费全文</p><ul><li><code>INFZM_COOKIE</code>: infzm 账户登陆后的 cookie，目前只需要 <code>passport_session=...</code> 即可获取全文</li></ul><h3 id="轻小说文库" tabindex="-1">轻小说文库 <a class="header-anchor" href="#轻小说文库" aria-label="Permalink to &quot;轻小说文库&quot;">​</a></h3><ul><li><code>WENKU8_COOKIE</code>: 登陆轻小说文库后的 cookie</li></ul><h3 id="色花堂" tabindex="-1">色花堂 <a class="header-anchor" href="#色花堂" aria-label="Permalink to &quot;色花堂&quot;">​</a></h3><ul><li><code>SEHUATANG_COOKIE</code>: 登陆色花堂后的 cookie 值。</li></ul><h3 id="微博" tabindex="-1">微博 <a class="header-anchor" href="#微博" aria-label="Permalink to &quot;微博&quot;">​</a></h3><p>用于个人时间线路由</p><p><a href="https://open.weibo.com/connect" target="_blank" rel="noreferrer">申请地址</a></p><ul><li><code>WEIBO_APP_KEY</code>: 微博 App Key</li><li><code>WEIBO_APP_SECRET</code>: 微博 App Secret</li><li><code>WEIBO_REDIRECT_URL</code>: 微博登录授权回调地址，默认为 <code>RSSHub 地址/weibo/timeline/0</code>，自定义回调地址请确保最后可以转跳到 <code>RSSHub 地址/weibo/timeline/0?code=xxx</code></li></ul><p>用于自定义分组</p><ul><li><code>WEIBO_COOKIES</code>: 用户访问网页微博时所使用的 cookie, 获取方式： <ol><li>打开并登录 <a href="https://m.weibo.cn" target="_blank" rel="noreferrer">https://m.weibo.cn</a> （确保打开页面为手机版，如果强制跳转电脑端可尝试使用可更改 UserAgent 的浏览器插件）</li><li>按下<code>F12</code>打开控制台，切换至<code>Network（网络）</code>面板</li><li>在该网页切换至任意关注分组，并在面板打开最先捕获到的请求 （该情形下捕获到的请求路径应包含<code>/feed/group</code>）</li><li>查看该请求的<code>Headers（请求头）</code>, 找到<code>Cookie</code>字段并复制内容</li></ol></li></ul><h3 id="小宇宙" tabindex="-1">小宇宙 <a class="header-anchor" href="#小宇宙" aria-label="Permalink to &quot;小宇宙&quot;">​</a></h3><p>需要 App 登陆后抓包获取相应数据。</p><ul><li><code>XIAOYUZHOU_ID</code>: 即数据包中的 <code>x-jike-device-id</code>。</li><li><code>XIAOYUZHOU_TOKEN</code>: 即数据包中的 <code>x-jike-refresh-token</code>。</li></ul><h3 id="新榜" tabindex="-1">新榜 <a class="header-anchor" href="#新榜" aria-label="Permalink to &quot;新榜&quot;">​</a></h3><ul><li><code>NEWRANK_COOKIE</code>: 登陆后的 COOKIE 值，其中 token 是必要的，其他可删除</li></ul><h3 id="喜马拉雅" tabindex="-1">喜马拉雅 <a class="header-anchor" href="#喜马拉雅" aria-label="Permalink to &quot;喜马拉雅&quot;">​</a></h3><ul><li><code>XIMALAYA_TOKEN</code>: 对应 cookie 中的 <code>1&amp;_token</code>，获取方式： <ol><li>登陆喜马拉雅网页版</li><li>打开控制台，刷新</li><li>查找名称为<code>1&amp;_token</code>的<code>cookie</code>，其内容即为<code>XIMALAYA_TOKEN</code>的值（即在<code>cookie</code> 中查找 <code>1&amp;_token=***;</code>，并设置 <code>XIMALAYA_TOKEN = ***</code>）</li></ol></li></ul><h3 id="知乎" tabindex="-1">知乎 <a class="header-anchor" href="#知乎" aria-label="Permalink to &quot;知乎&quot;">​</a></h3><p>用于用户关注时间线</p><ul><li><code>ZHIHU_COOKIES</code>: 知乎登录后的 cookie 值。 <ol><li>可以在知乎网页版的一些请求的请求头中找到，如 <code>GET /moments</code> 请求头中的 <code>cookie</code> 值。</li></ol></li></ul>',216)]))}const f=o(r,[["render",l]]);export{p as __pageData,f as default};
